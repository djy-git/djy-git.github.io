---
title: Problem Solving Note
tags: Parallel
---

<!--more-->

# Speed-up from Base code
## 1. Read data and generate N-asset portfolios
### 1) Load daily return data

|    | GPU 1 (Base code) | GPU 1 (Naive) | GPU 2 (Naive) | Acceleration ratio (GPU 2) |
|:--:|:--:|:--:|:--:|:--:|
|Current        | 0.81s        | 0.04s        |         |         |
|**Accumulated**| 0.81s        | 0.04s        |         |         |

|    | GPU 1 (Base code) | GPU 1 (Optimized) | GPU 2 (Optimized) | Acceleration ratio (GPU 2) |
|:--:|:--:|:--:|:--:|:--:|
|Optimized        |         |         |         |         |
|**Accumulated**|         |         |         |         |

- **Optimization details**  



### 2) Select N-asset

|    | GPU 1 (Base code) | GPU 1 (Naive) | GPU 2 (Naive) | Acceleration ratio (GPU 2) |
|:--:|:--:|:--:|:--:|:--:|
|Current        | 0.00s        | 0.01s        |         |         |
|**Accumulated**| 0.81s        | 0.05s        |         |         |

|    | GPU 1 (Base code) | GPU 1 (Optimized) | GPU 2 (Optimized) | Acceleration ratio (GPU 2) |
|:--:|:--:|:--:|:--:|:--:|
|Optimized        |         |         |         |         |
|**Accumulated**|         |         |         |         |

- **Optimization details**  


### 3) Generate N-asset portfolios

|    | GPU 1 (Base code) | GPU 1 (Naive) | GPU 2 (Naive) | Acceleration ratio (GPU 2) |
|:--:|:--:|:--:|:--:|:--:|
|Current        | 0.06s        | 0.00s        |         |         |
|**Accumulated**| 0.87s        | 0.05s        |         |         |

|    | GPU 1 (Base code) | GPU 1 (Optimized) | GPU 2 (Optimized) | Acceleration ratio (GPU 2) |
|:--:|:--:|:--:|:--:|:--:|
|Optimized        |         |         |         |         |
|**Accumulated**|         |         |         |         |

- **Optimization details**  



## 2. Monte-Carlo Simulation
### 1) Generate random number generator states(`rng_states`)

|    | GPU 1 (Base code) | GPU 1 (Naive) | GPU 2 (Naive) | Acceleration ratio (GPU 2) |
|:--:|:--:|:--:|:--:|:--:|
|Current        | 1.94s        | 2.02s        |         |         |
|**Accumulated**| 2.81s        | 2.07s        |         |         |

|    | GPU 1 (Base code) | GPU 1 (Optimized) | GPU 2 (Optimized) | Acceleration ratio (GPU 2) |
|:--:|:--:|:--:|:--:|:--:|
|Optimized        |         |         |         |         |
|**Accumulated**|         |         |         |         |

- **Optimization details**  



### 2) Generate M-asset portfolios from N-asset portfolios with random sampling and compute measure and sort

|    | GPU 1 (Base code) | GPU 1 (Naive) | GPU 2 (Naive) | Acceleration ratio (GPU 2) |
|:--:|:--:|:--:|:--:|:--:|
|Current        | 1.60s        | 2.07s        |         |         |
|**Accumulated**| 4.42s        | 4.14s        |         |         |

|    | GPU 1 (Base code) | GPU 1 (Optimized) | GPU 2 (Optimized) | Acceleration ratio (GPU 2) |
|:--:|:--:|:--:|:--:|:--:|
|Optimized        |         |         |         |         |
|**Accumulated**|         |         |         |         |

- **Optimization details**  


### 3) Select top portfolios by measure

|    | GPU 1 (Base code) | GPU 1 (Naive) | GPU 2 (Naive) | Acceleration ratio (GPU 2) |
|:--:|:--:|:--:|:--:|:--:|
|Current        | 0.00s        | 0.00s        |         |         |
|**Accumulated**| 4.42s        | 4.14s        |         |         |

|    | GPU 1 (Base code) | GPU 1 (Optimized) | GPU 2 (Optimized) | Acceleration ratio (GPU 2) |
|:--:|:--:|:--:|:--:|:--:|
|Optimized        |         |         |         |         |
|**Accumulated**|         |         |         |         |

- **Optimization details**  



## 3. Asset selection
### 1) Generate K-asset portfolios from M-asset portfolios with random sampling and sort

|    | GPU 1 (Base code) | GPU 1 (Naive) | GPU 2 (Naive) | Acceleration ratio (GPU 2) |
|:--:|:--:|:--:|:--:|:--:|
|Current        | 1.88s        | 5.10s        |         |         |
|**Accumulated**| 6.30s        | 9.24s        |         |         |

|    | GPU 1 (Base code) | GPU 1 (Optimized) | GPU 2 (Optimized) | Acceleration ratio (GPU 2) |
|:--:|:--:|:--:|:--:|:--:|
|Optimized        |         |         |         |         |
|**Accumulated**|         |         |         |         |

- **Optimization details**  


### 2) Execute Parallel Genetic algorithm (10 generations)

|    | GPU 1 (Base code) | GPU 1 (Naive) | GPU 2 (Naive) | Acceleration ratio (GPU 2) |
|:--:|:--:|:--:|:--:|:--:|
|Current        | 20.93s        | 51.2s        |         |         |
|**Accumulated**| 27.27s        | 60.44s        |         |         |

|    | GPU 1 (Base code) | GPU 1 (Optimized) | GPU 2 (Optimized) | Acceleration ratio (GPU 2) |
|:--:|:--:|:--:|:--:|:--:|
|Optimized        |         |         |         |         |
|**Accumulated**|         |         |         |         |

- **Optimization details**  

