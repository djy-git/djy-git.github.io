---
title: 마법공식(Joel Greenblatt)
tags: Finance
aside:
  toc: true
---

# Remarks
본 글은 Joel Greenblatt의 [주식시장을 이기는 작은책](https://books.google.co.kr/books?id=mlY3DwAAQBAJ&printsec=frontcover&hl=ko&source=gbs_ge_summary_r&cad=0#v=onepage&q&f=false) 등을 정리 및 참고한 글입니다.

<!--more-->

---

# I. Joel Greenblatt
![](http://barrons.wsj.net/public/resources/images/ON-AT181_BA_Gre_G_20110514010543.jpg)[^1]

[Joel Greenblatt](https://en.wikipedia.org/wiki/Joel_Greenblatt)는 헤지펀드를 운용하는 [Gotham Capital](https://www.gothamfunds.com/default.aspx)을 설립한 펀드매니저입니다.  
Gotham Capital을 설립한 1985년이래 2005년까지 20년 동안 연평균 수익률 40% 라는 어마어마한 성과를 내기도 했는데요 이는 워렌 버핏, 비터 린치보다도 더 좋은 성과로 평가되고 있습니다.

그는 가치투자로 유명한데 특히 저평가된 기업을 찾아내는 "마법공식"으로 큰 주목을 받았습니다.  
2005년 [주식시장을 이기는 작은책](https://books.google.co.kr/books?id=mlY3DwAAQBAJ&printsec=frontcover&hl=ko&source=gbs_ge_summary_r&cad=0#v=onepage&q&f=false)이라는 짧은 책으로 처음으로 대중들에게 마법공식을 소개하였습니다. 그 책에는 마법공식을 사용한 17년(1988년 ~ 2004년)간의 실험결과가 기록되어있는데요 놀랍게도 마법공식은 시장 평균(12.3%)과 S&P500(12.4%)을 훨씬 뛰어넘는 **30.8%**의 복리수익률을 보여주었죠.

개인적으로 Joel Greenblatt라는 사람의 유머러스한 글솜씨에 먼저 호감을 갖게되었습니다. 그가 소개하는 아주 자연스럽고 간단한 마법공식은 처음으로 저를 가치투자의 길로 이끌어주었죠. 이 투자방법은 제가 연구하고 있는 진화 알고리즘과 같이 순리에 맞고 아주 타당하다는 것 그러나 성과가 나타나려면 꽤 오랜 시간이 필요하다는 점 모두가 아주 매력적이었습니다.

이제 마법공식에 대한 자세한 설명과 마법공식이 처음 공개된 2005년 이후 15년이 지난 지금도 여전히 마법공식이 제대로 작동하는지 그리고 세간의 평가는 어떤지 차근차근 소개해보고자합니다.


# II. 마법공식(Magic Formula)
우선 [주식시장을 이기는 작은책](https://books.google.co.kr/books?id=mlY3DwAAQBAJ&printsec=frontcover&hl=ko&source=gbs_ge_summary_r&cad=0#v=onepage&q&f=false)에서 소개된 **마법공식**에 대해 자세히 살펴보겠습니다.

## 1. 개요
**마법공식**은 가치투자 전략입니다.  
 
**가치투자**란 기업의 **가치**를 판단하고 그보다 더 싸게 거래될 때 주식을 사서 나중에(약 3~4년 후) 제 가치를 받고 파는 투자방법으로, 이러한 투자철학은 데이비드 드레먼, 워렌 버핏 등을 거슬러올라가 가치투자의 창시자인 벤자민 그레이엄으로 이어집니다.

마법공식은 기업의 가치를 비교하기 위한 두 가지 **투자기준(자본수익률, 이익수익률)**을 제시하고 있습니다. 이를 간단히 표현하면 다음과 같습니다.
1. 같은 비용을 투입했을 때 더 많은 수익을 내는 기업을 선호 (높은 자본수익률)
2. 기업의 구매가에 비해 더 많은 수익을 내는 기업을 선호 (높은 이익수익률)

즉, **좋은 기업(높은 자본수익률)을 싼 가격(높은 이익수익률)에 사라**는 것이죠.

마법공식같은 가치투자 전략에서 무엇보다도 가장 중요한 것은 자신의 전략을 믿고 **장기간** 고수하는 것입니다.  

이 점에서 Joel Greenblatt는 마법공식을 뒷받침하는 원칙들이 **보편적 타당성**을 갖는다는 사실을 강조합니다. 마법공식은 **평균 이상**의 기업을 **평균 이하**의 가격에 매입하는 방법에 대해 이야기하고 있는데 이것은 동서고금 어떤 시장에서든 효력을 발휘하지 않을 수 없다는 것이죠. 이러한 마법공식의 보편적 타당성은 몇 번을 이야기해도 부족하지 않을 정도로 중요한 속성입니다. 이것을 제대로 이해하고 받아들일 수 있다면 자신의 전략을 믿고 기다릴 수 있는 건전한 원동력이 되기 때문이죠.  

최근 대부분의 금융회사들은 너나 할 것 없이 AI를 사용한 주가예측, 펀드구성, 유의미한 패턴탐색 등에 상당한 투자를 하고 있습니다. 그러나 아이러니하게도 실제로 AI를 사용한 예측 결과는 최종 판단에 일부 영향을 미치는 참고자료만 되거나 AI를 원하는 고객의 needs를 충족시켜주는 정도의 역할만 할 뿐 실질적으로 AI가 판단을 주도하고 있지 않다고 합니다.  

흔히들 AI라고 하지만 GPU의 급성장을 앞세운 딥러닝을 의미하는 경우가 많은데요 딥러닝은 시대를 바꿀 정도로 굉장한 성과를 내고 있긴하지만 치명적인 약점이 있으니 바로 학습에 대한 이론적인 설명을 제외하곤 (보유한 데이터에 한정된) 훌륭한 결과에 대한 자세한 해석을 내놓기 힘들다는 점입니다.([Why do many research studies claim that deep learning is a black box?](https://www.quora.com/Why-do-many-research-studies-claim-that-deep-learning-is-a-black-box))  

이러니 리스크에 특히나 민감한 금융권에서 수백 수천억원이 한 순간에 잿더미가 되버릴지도 모르는 큰 프로젝트에 딥러닝 모델을 직접적으로 사용하기 힘든 것은 당연한 이야기겠죠. (이와 관련하여 최근 interpretable machine learning에 대한 연구가 활발히 진행되고 있습니다. [Interpretable Machine Learning](https://zzsza.github.io/data/2019/04/14/interpretable-ml-intro/))  

|![](https://w.namu.la/s/ce9d6ee43b9fa3b8bc5828cf7d36e040cf8f1a66796e2a28b2552e67cf3d02ee55ca57531f25eb3dc9aba3d0e6f4b3ddff62e515120538e0a56ec7daaea1ee951f11b7210707ff08b897a13f010db69442e684236c5b1154e39083a75200ed51)|
|:--:|
| *음.. 결과는 참 좋은데 설명할 방법이 없네* |

이처럼 자신의 전략이 **보편적 타당성**을 가지고 있지 않다면 본인(펀드 매니저)의 **투자센스**와 **운**에 의존하여 위험천만한 길을 걸어가야하고 결국 길의 끝에서 수익을 내긴 쉽지 않을 것입니다. 무엇보다도 불안과 함께 가는 여정이 결코 순탄치 않겠죠.  

이후 설명할 판단기준들을 정확히 이해하여 마법공식의 **보편적 타당성**을 받아들인다면 주식에 매여살지 않고 본인의 삶에 충실할 수 있는 건전한 투자생활을 즐길 수 있을 것이라 생각합니다.  

자 그럼 이제 두 가지 투자기준에 대해 알아봅시다.

## 2. 이익수익률과 자본수익률
### 1) 이익수익률(Earnings yield)
이익수익률은 주식의 **가격**과 관련된 지표입니다.  

가령 삼성전자, 네이버, 카카오 1주의 가격이 모두 동일한 1만원이라고 해봅시다. 그리고 각 기업의 지난해 1주당 실수익이 1,000원, 2,000원, 3,000원이라면 어떤 주식을 선호할까요?  
당연히 지불한 가격에 대해서 더 많이 번 카카오를 선택하겠죠. 여기서 우린 더 높은 **이익수익률**을 가진 기업을 선택한 것입니다.

### 2) 자본수익률(Return On Capital, ROC)
자본수익률은 회사의 자체의 **성장성**과 관련된 지표입니다.  

예를들어, 휴대폰을 파는 SKT, KT, LG 기업들을 상상해봅시다. 각 기업은 휴대폰을 만드는데 모두 똑같이 1만원의 비용이 든다고 합니다. 그런데 지난해 SKT는 한 휴대폰당 1,000원의 수익을 얻었고, KT는 2,000원, LG는 3,000원의 수익을 얻었다면 어떤 회사를 더 선호할까요?  
당연히 같은 비용에 대해서 더 많은 수익을 얻은 LG를 선택할겁니다. 여기서 우린 더 높은 **자본수익률**을 가진 기업을 선택한 것입니다.

### 3) 주식 선택
이제 계산한 이익수익률과 자본수익률에 따라 각 종목들의 **순위**를 매기고 두 값을 더하여 얻은 순위대로 종목을 선택합니다.  
Joel Greenblatt는 실험에서 **상위 30개** 종목을 선택하였습니다. 

## 3. 마법공식의 적용
### 1) 주식 보유 기간
마법공식은 종목을 선택하는 방법뿐만 아니라 선택된 종목을 매매하는 시기까지 중요하게 다루고 있습니다.

1. 매달 특정한 **매도/매수일**을 정한다. (동일한 날)
2. 선택된 자산은 **1년(혹은 3년 등)** 기간으로 보유한다.

예를 들어 2000년 1월부터 2010년 12월까지 **1년 보유** 후 매매하는 경우,  

**129개의 회전식 1년 기간**  
*001차*: 2000년 01월 01일 30개 종목 매수 → 2001년 01월 01일 30개 종목 매도  
*002차*: 2000년 02월 01일 30개 종목 매수 → 2001년 02월 01일 30개 종목 매도  
...  
*129차*: 2009년 12월 01일 30개 종목 매수 → 2010년 12월 01일 30개 종목 매도  
{:.success}

혹은 **3년 보유** 후 매매할 수 있습니다.

**96개의 회전식 3년 기간**  
*01차*: 2000년 01월 01일 30개 종목 매수 → 2003년 01월 01일 30개 종목 매도  
*02차*: 2000년 02월 01일 30개 종목 매수 → 2003년 02월 01일 30개 종목 매도  
...  
*96차*: 2007년 12월 01일 30개 종목 매수 → 2010년 12월 01일 30개 종목 매도  
{:.success}

몇 가지 보유기간에 대해서 17년(1988년 1월 ~ 2004년 12월)동안 실험한 결과,  
**1년 기간**으로 했을 때 **4년에 한 번**씩 시장 평균보다 좋지 못한 실적이 나타났지만,  
**2년 기간**으로 했을 땐 **6번 중 1번** 정도 시장 평균보다 실적이 좋지 못했고,  
**3년 기간**으로 했을 땐 **총 차수의 5% 이하**만이 시장 평균을 능가하지 못하였습니다.

게다가 **3년 기간**동안 보유 후 매매한 경우, 17년 동안 돈을 잃지 않았다는 결과를 보여주고 있습니다.  
즉, 시장 평균 수익률이 -(-46%)인 경우에도 마법공식의 최악의 수익률은 +(+11%)였다는 것이죠.

한편 어떤 투자 전략이 정말 이치에 맞을 경우 장기간 투자할수록 궁극적인 성공의 가능성이 높아지기 때문에, 저자는 **투자 기간은 5년 또는 10년, 20년**으로 잡는 것이 이상적이다라고 생각했습니다.

### 2) 주식 선택 범위
위의 결과들은 모두 시장 가치 기준 상위 1,000개 기업의 주식 중에서 선택했을 때의 결과로 상위 3,500개 기업에서 선택한다면 결과는 더욱 좋게 나옵니다.  
**3년 기간**동안 보유 했을 시, 모든 포트폴리오들이 시장 평균을 능가할 뿐만 아니라, 최악의 수익률도 +35%로 어마어마하죠.

### 3) 마법공식의 리스크
저자는 투자전략의 **리스크**를 판단하기 위해 두 가지 요점에 집중했습니다.  

1. 해당 전략을 장기간 따랐을 때 돈을 잃을 위험은 얼마인가?
2. 선택한 전략이 장기적으로 다른 전략들보다 더 저조한 실적을 낼 위험은 얼마인가?

이에 대해 장기적으로 훌륭한 성과를 내는 것으로 인정받은 **index fund(ETF)**([Index fund vs Active fund](http://www.kim.co.kr/index/whyIndexFund.do?cmd=3))와 마법공식을 비교했습니다.

1. 시장 평균을 따라가는 index fund는 모든 3년 기간들 중 12%에서 돈을 잃었지만, 마법공식은 모든 기간에서 돈을 잃지 않았다.
2. 이미 여러번 전술했듯이, 마법공식 전략의 수익률은 시장 평균 수익률을 월등히 뛰어넘었다.

즉, **마법공식 전략은 시장 평균보다 더 작은 리스크로 더 나은 결과를 달성**했다고 할 수 있습니다.  
물론 이것은 지난 17년의 실험기간에 한한 리스크를 평가한 것입니다. 저자 역시 '미래에는 마이너스 성과를 낼 수도 있음이 거의 확실하다' 라고 했을 정도로 앞으로의 일을 보장할 수는 없죠.

## 4. 질답
지금까지 설명한 이야기들은 모두 당연하고 훌륭한 실험결과(1988년 ~ 2004년)로 뒷받침되지만 Joel Greenblatt는 몇 가지 자기문답을 써놓았습니다.  
다음과 같은 질문들입니다.

### 1) 마법공식은 특정 기업에만 적용된다?
가령 규모가 작고 발행주식수도 적은 주식들 위주로 선택하는 방법은 적은 수요라도 주가를 상승시키는 결과를 초래할 수 있습니다. 그런 경우, 이론상으로는 훌륭한 결과를 보여주어도 실제론 그 결과를 재현해내지 못합니다.  

마법공식의 성과를 실험하기 위해 선택된 종목들은 모두 미국 주요 증권거래소에서 거래되는 3,500개 대기업 중에서 양호한 주식들입니다. 이들은 최소 5,000만 달러(500억 원 이상) 이상의 시장가치를 지녔습니다. 이 정도 규모라면 개인투자자들이 가격 상승을 유발하는 일 없이 상당한 수의 주식을 매수할 수 있습니다. 전술했듯이 마법공식은 **30.8%(시장평균 12.3%)**의 연간 수익률을 보여주었습니다.

더 나아가, 그는 상위 2,500개 종목에 대해서도 마법공식을 적용해보았는데요 이 그룹에 속한 종목들의 시장가치는 모두 2억 달러(2,000억 원 이상) 이상이었습니다. 이 그룹에 대해 **마법공식으로 선택한 30개의 기업 주식**으로 포트폴리오를 구성하여 연간 **23.7%(시장평균 12.4%)**의 수익률을 얻을 수 있었습니다.

그는 계속 나아가, 상위 1,000개 종목(시장가치 10억 달러(1조 원 이상) 이상)에 대해서도 실험을 계속하였습니다. 그 결과 연 평균 **22.9%(시장평균 11.7%)**의 수익률을 보여주었습니다.

뒤에 이와 유사하게 국내 시장에서도 기업의 규모와 마법공식의 관계를 실험해본 뒤 결과를 적어놓을 예정입니다.

### 2) 우연히 발생한 염가 주식 30개를 발견했던 것이라면?
이전까진 믿을 수 없이 싼 **소수**의 주식들을 발견할 수 있어 마법공식이 작동할 수 있었지만 미래에는 그렇지 못하다면 마법공식은 무용지물이 될 것입니다. 그는 이를 반박하기 위해 상위 2,500개 종목에 대한 실험을 재구성하였습니다.  

먼저, 2,500개 기업을 등수에 따라 10개의 그룹(250개의 종목으로 구성)으로 나눕니다. 그리고 각각의 그룹을 하나의 포트폴리오로 구성하여 1년 동안 보유하고 그 결과를 계산하였습니다. 그 결과, 마법공식은 상위 30개 기업 주식에만 적용되는 것이 아님을 보여주었습니다.  

마법공식은 순서에 따라 적용되는 것처럼 보였습니다. **공식이 매긴 등수 순서대로 좋은 성과**를 내기 때문에 투자는 최상위 30개 기업의 주식에만 한정되지 않습니다. 최고등수를 받은 그룹의 주식들이 모두 좋은 성과를 내기 때문에 높은 성과를 내는 주식에 대한 선택의 폭도 넓다는 장점 또한 가지고 있습니다.

**시장평균**: 12.4%  
**30개 선택**: 23.7%  
*그룹1*: 17.9%  
*그룹2*: 15.6%  
*그룹3*: 14.8%  
*그룹4*: 14.2%  
*그룹5*: 14.1%  
*그룹6*: 12.7%  
*그룹7*: 11.3%  
*그룹8*: 10.1%  
*그룹9*: 5.2%  
*그룹10*: 2.5%  

이 결과 역시 최근 국내 시장에서도 제대로 작동하는지 직접 적용하여 실험해볼 예정입니다.

---

[^1]: [http://barrons.wsj.net/public/resources/images/ON-AT181_BA_Gre_G_20110514010543.jpg](http://barrons.wsj.net/public/resources/images/ON-AT181_BA_Gre_G_20110514010543.jpg)